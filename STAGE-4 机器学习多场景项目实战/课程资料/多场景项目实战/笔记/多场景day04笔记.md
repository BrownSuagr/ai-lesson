## day03问题小结

用户行为分析中 留存率还不是很明白

- 留存率，计算方法：

  1. 找到新用户

  2. 判断第n天新用户是否是活跃

  3. 计算留存率

```python
def cal_retention(data,n): #n为n日留存
    user=[]
    date=pd.Series(data.buy_time.unique()).sort_values()[:-n] #时间截取至最后一天的前n天
    retention_rates=[]
    for i in date:
        new_user=set(data[data.buy_time==i].cust_id.unique())-set(user) #识别新用户，本案例中设初始用户量为零
        user.extend(new_user)  #将新用户加入用户群中
        #第n天留存情况
        user_nday=data[data.buy_time==i+timedelta(n)].cust_id.unique() #第n天登录的用户情况
        a=0
        for cust_id in user_nday:
            if cust_id in new_user:
                a+=1
        retention_rate=a/len(new_user) #计算该天第n日留存率
        retention_rates.append(retention_rate) #汇总n日留存数据
    data_retention=pd.Series(retention_rates,index=date)
    return data_retention

data_retention=cal_retention(data1,3)  #求用户的3日留存情况
data_retention
```

知道库存分析相关模型原理

- ABC 管理法是管理库存的经典方法。通过计算每个SKU的销售收入在所有SKU产生的总收入中的累积百分比贡献进行排名，来对商品进行分类，它基于帕累托原则（80/20 规则）
  - A类商品贡献了80%的销售收入，这些商品需要严格控制库存，避免缺货
  - B类商品贡献了接下来的10%的销售收入，对于这类商品，库存控制可以适当放松
  - 剩下的10%收入由C类商品贡献，但C类商品种类最多，分配到的进货成本和仓储资源优先级最低
- 通过 XYZ 库存管理，在很长一段时间内测量每个SKU的销售需求，以捕捉需求的季节性变化，然后计算每个SKU的方差，并根据其变化对分数进行排名。
  - X 类：需求变化最小的产品。 这些产品的销售比较稳定，这意味着采购经理更容易预测它们，很容易避免缺货。
  - Y 类：比X类中的产品变化更大。由于季节性等因素，需求会随时间变化，因此更难准确预测
  - Z 类：需求波动起伏较大，比较难预测，除非有冗余较大的备货，否则很难避免缺货

知道评论文本挖掘的作用

- 通过评论文本挖掘可以实现如下目标：
  - 运营优化：挖掘用户喜好，挖掘竞品动态，提升自身产品竞争力
  - 产品更新：发掘产品更新动向，及时的从用户处发现产品问题
  - 口碑管理：识别出自家产品和竞争对手的口碑差异



## 二、用户评论文本挖掘【续day03】

### 4、 代码实现【掌握】

#### 4、文本挖掘

数据去重

判断某款产品是好评还是差评

还原常见缩写单词

词形还原 得到变形之后单词原始形态

分词处理  英文分词 实际上就是用空格去split 

去停用词 没有实际意义的词，和标点符号



#### 5、创建词云图

创建方法，统计单词总数，每条评论的词汇数量，词汇丰富度

统计出现最多的单词的词频,准备绘制词云图

绘制好评词云图



## 一、报表设计

### 学习目标

- 知道报表作用
- 掌握搭建日报的基本流程
- 应用SQL,EXCEL实现日报开发



### 1、报表简介【了解】

报表：将海量业务相关数据有效地组织展示出来，将有价值的信息传递出去，辅助公司业务/战

流程：海量业务相关数据 → 构建指标体系→ 报表 → 挖掘商业机会/决策支持/风险预测预警

报表的类型很多:

- 周期性报表：周期性报表，日常见到的日报、周报、月报



### 2、日报介绍【了解】

日报：统计企业每天运营产生的与KPI指标相关的数据，数据部门负责统计并在每天早晨以邮件形式发送至运营部门（统计昨日一天数据）。

日报搭建步骤

- 第一步：搭建指标体系，先明确产品的类型，明确业务究竟是什么，目标是什么。梳理出业务流程，形成一个指标体系框架。不同业务类型的产品会有不同的指标体系框架。
- 第二步：搭建完体系框架后，需要对指标体系进行拆分、确定我们需要的核心指标，然后从维度和度量角度，去计算
- 第三步：指标体系方案敲定后，开始整理底层数据存储逻辑，明确每个字段要从哪里获取，每张表应该涵盖哪些指标哪些字段维度。可能遇到的问题
  - 1、缺少必要数据（没有埋点）
  - 2、有埋点但是数据未合理入库
  - 3、数据缺失、错误严重
- 第四步： 指标体系可视化展示
  - 使用公司的数据产品或者第三方数据产品来将这些指标进行数据可视化
- 第五步： 存档、追踪、落地和优化

### 3、方法论详解【掌握】

明确当前业务所处阶段

确定核心指标

需要对核心指标进行拆解，拆解的目的是从不同的角度对业务进行更加详细完整的描述

- 人、货、场



### 4、SQL计算指标【掌握】

核心指标计算

分品牌统计

分链接统计

网页信息

销售详情

合并起来

### 5、Excel展示结果【掌握】

使用分别展示简报和每个商品的详细情况，实际上就是将SQL查询出来的结果，在Excel上稍微加工



## 二、游戏数据分析

### 学习目标

- 知道游戏行业关键数据指标
- 掌握ARPU， ARPPU等指标的计算方法



### 1、游戏行业关键数据指标

#### 1.1 运营数据

激活数据

激活且登录率应用场景

活跃数据

在线数据

留存数据

留存率和游戏质量关系

#### 1.2 游戏行为数据

- 职业分布数据
  - 举例： 不同种族人数排名： 人族， 精灵族
  - 最喜欢的职业Top3

- 最高角色等级分布
- 流失用户等级分布

#### 1.3 市场投放数据

CPC CPA

#### 1.4 用户付费指标

付费率：也称付费转化率，指每日付费用户占活跃用户的比例

ARPPU：**ARPPU(Average Revenue per Paying User)**即平均每付费用户收入

ARPU： **ARPU(Average Revenue Per User)**即每用户平均收入

付费用户比例构成

#### 1.5 转化率漏斗

游戏运营主要目标有4点：拉新、促活、留存、付费转化。

除了优化产品自身的一些细节外，提高各个环节的转化率，对渠道各项转化率指标的长期监控，以及追踪不同渠道、媒体来源用户的后续质量(包括登录、活跃、留存、付费等)，能够帮助我们快速发现渠道异常、调整广告投放策略等。



### 2、野蛮时代游戏数据分析实战

#### 2.1 分析任务说明

本节针对野蛮时代游戏的用户及付费信息进行分析

- 用户注册时间分布情况？
- 用户的付费情况（付费率，ARPU，ARPPU）？
- 各等级用户的付费情况？
- 消费用户的道具使用习惯？
- 消费玩家的游戏玩法是怎么样的？

#### 2.2 数据清洗

查找是否有缺失值，得到结果为False，即没有缺失值

#### 2.3 用户分析

我们首先看下用户的注册时间的分布情况

按照注册时间分组聚合，得到每天的注册用户

画图展示



#### 2.4 付费分析（付费率，ARPU，ARPPU）

付费率=付费人数/活跃用户

ARPU =总付费金额/总活跃用户

ARPPU =总付费金额/总付费用户



#### 2.5 各等级用户的付费情况

大量的用户集中在10以下，因此游戏的运营方向应该是如何是用户平滑的达到10级

在20级以后人均消费额的曲线出现了陡增，该阶段的用户应该已经了解了游戏的核心玩法，

通过游戏内发放问卷调查的方式了解用户在10级以下时遇到的困难和问题

#### 2.6 消费玩家的道具使用情况

定义高/低氪金玩家

分别计算不同玩家在不同资源上的使用情况

并画图展示

- 高消费玩家和低消费对木头、石头、肉的消耗都较大，魔法的消耗都较小
- 而在象牙的消耗上，高消费玩家和低消费玩家的消耗差距较大。因为象牙资源在游戏中的用途相对高端一些，而木头和肉类是游戏发展过程中必需的资源。
- 高氪玩家在资源上的平均使用量要远远高于低氪玩家，象牙资源最能够体现出一个玩家在游戏上的消费水平。

#### 2.7 消费玩家的游戏玩法分析

消费玩家在线时长情况

消费玩家pvp情况

消费玩家pve情况

#### 2.8 分析结论

1.该游戏具有较大的用户基数，且新用户注册受游戏活动、游戏推广力度等因素影响较大。

2.该游戏的ARPU为8.55，说明该游戏的盈利能力较高。

3.对于游戏付费情况，两极分化情况十分严重，绝大多数玩家处于10级以内，且付费情况较差，而少数玩家在10级以上，且付费能力强(13级的用户付费转化率接近100%).因此对于如何让大多数玩家平滑过渡到10级，非常的重要。

4.消费习惯上，高消费玩家对象牙和通用加速券的需求远多于一般玩家。

5.在玩家行为上，高消费玩家投入游戏时间更多，它们更热衷于pvp玩法。

